# ä¸‰ç§å‘½ç†ç³»ç»Ÿæ’ç›˜å·¥å…· triple_chart_parser.py

## ç®€ä»‹

æœ¬å·¥å…·æ”¯æŒä¸‰ç§å‘½ç†ç³»ç»Ÿçš„ç»“æ„åŒ–æ’ç›˜ï¼š
- **å…«å­—ï¼ˆå››æŸ±ï¼‰**ï¼šä½¿ç”¨ `sxtwl` åº“ï¼Œæ”¯æŒçœŸå¤ªé˜³æ—¶è®¡ç®—ï¼Œè¾“å‡ºå››æŸ±ã€äº”è¡Œåˆ†å¸ƒã€èº«å¼ºèº«å¼±åˆ†æ
- **ç´«å¾®æ–—æ•°**ï¼šä½¿ç”¨ `py-iztro` åº“ï¼Œè¾“å‡ºå‘½å®«ã€èº«å®«ã€ä¸»æ˜Ÿä½ç½®ã€å››åŒ–é£æ˜Ÿ
- **å°åº¦æ˜Ÿç›˜**ï¼šä½¿ç”¨ `flatlib` åº“ï¼Œè®¾ç½®æ’æ˜Ÿç³»ç»Ÿï¼Œè¾“å‡ºä¸Šå‡æ˜Ÿåº§ã€è¡Œæ˜Ÿä½ç½®

## å®‰è£…ä¾èµ–

å»ºè®®ä½¿ç”¨ Python è™šæ‹Ÿç¯å¢ƒï¼š

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows
.\venv\Scripts\Activate.ps1
# Mac/Linux
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨ï¼ˆè¾“å‡ºåˆ°æ§åˆ¶å°ï¼‰
```bash
python triple_chart_parser.py --birth-date 2000-08-16 --birth-time 10:00 --timezone +8 --longitude 116.4 --latitude 39.9 --gender 1
```

### ä¿å­˜ä¸ºJSONæ–‡ä»¶ï¼ˆæ¨èï¼‰
```bash
python triple_chart_parser.py --birth-date 2000-08-16 --birth-time 10:00 --timezone +8 --longitude 116.4 --latitude 39.9 --gender 1 --save-file --location åŒ—äº¬
```

### å‚æ•°è¯´æ˜
- `--birth-date`ï¼šå‡ºç”Ÿæ—¥æœŸï¼Œæ ¼å¼ï¼šYYYY-MM-DDï¼ˆå¦‚ï¼š2000-08-16ï¼‰
- `--birth-time`ï¼šå‡ºç”Ÿæ—¶é—´ï¼Œæ ¼å¼ï¼šHH:MMï¼ˆå¦‚ï¼š10:00ï¼‰
- `--timezone`ï¼šæ—¶åŒºï¼Œæ ¼å¼ï¼š+8æˆ–-5
- `--longitude`ï¼šç»åº¦ï¼ˆæµ®ç‚¹æ•°ï¼Œå¦‚ï¼š116.4ï¼‰
- `--latitude`ï¼šçº¬åº¦ï¼ˆæµ®ç‚¹æ•°ï¼Œå¦‚ï¼š39.9ï¼‰
- `--gender`ï¼šæ€§åˆ«ï¼Œ1=ç”·ï¼Œ0=å¥³
- `--save-file`ï¼šå¯é€‰ï¼Œä¿å­˜ä¸ºJSONæ–‡ä»¶è€Œä¸æ˜¯è¾“å‡ºåˆ°æ§åˆ¶å°
- `--location`ï¼šå¯é€‰ï¼Œå‡ºç”Ÿåœ°ç‚¹åç§°ï¼ˆç”¨äºæ–‡ä»¶å‘½åï¼‰

### å¸¸ç”¨ç¤ºä¾‹

```bash
# ç”·æ€§ï¼ŒåŒ—äº¬å‡ºç”Ÿ
python triple_chart_parser.py --birth-date 1990-05-20 --birth-time 14:30 --timezone +8 --longitude 116.4 --latitude 39.9 --gender 1 --save-file --location åŒ—äº¬

# å¥³æ€§ï¼Œä¸Šæµ·å‡ºç”Ÿ
python triple_chart_parser.py --birth-date 1995-10-15 --birth-time 08:45 --timezone +8 --longitude 121.5 --latitude 31.2 --gender 0 --save-file --location ä¸Šæµ·

# æµ·å¤–å‡ºç”Ÿï¼ˆçº½çº¦æ—¶åŒºï¼‰
python triple_chart_parser.py --birth-date 1988-12-25 --birth-time 18:20 --timezone -5 --longitude -74.0 --latitude 40.7 --gender 1 --save-file --location çº½çº¦
```

## è¾“å‡ºæ–‡ä»¶å‘½åè§„åˆ™

å½“ä½¿ç”¨ `--save-file` å‚æ•°æ—¶ï¼Œæ–‡ä»¶åæ ¼å¼ä¸ºï¼š
```
{æ€§åˆ«}_{å‡ºç”Ÿæ—¥æœŸ}_{å‡ºç”Ÿæ—¶é—´}_{åœ°ç‚¹}_{ç»åº¦}_{çº¬åº¦}.json
```
ä¾‹å¦‚ï¼š`1_20000816_1000_åŒ—äº¬_116.4_39.9.json`

## è¾“å‡ºç»“æœç»“æ„

```json
{
  "input": {
    "birth_date": "å‡ºç”Ÿæ—¥æœŸ",
    "birth_time": "å‡ºç”Ÿæ—¶é—´", 
    "timezone": "æ—¶åŒº",
    "longitude": "ç»åº¦",
    "latitude": "çº¬åº¦",
    "gender": "æ€§åˆ«æ•°å€¼",
    "gender_str": "æ€§åˆ«æ–‡å­—"
  },
  "bazi": {
    "å››æŸ±ä¿¡æ¯": "...",
    "äº”è¡Œåˆ†æ": "...",
    "èº«å¼ºèº«å¼±": "..."
  },
  "ziwei": {
    "å‘½å®«ä¿¡æ¯": "...",
    "åäºŒå®«æ˜Ÿè€€": "...",
    "å››åŒ–åˆ†æ": "..."
  },
  "vedic": {
    "ä¸Šå‡æ˜Ÿåº§": "...",
    "è¡Œæ˜Ÿä½ç½®": "...",
    "å®«ä½åˆ†å¸ƒ": "..."
  }
}
```

## å›¾è¡¨å¯è§†åŒ–åŠŸèƒ½ ğŸ¨

æœ¬é¡¹ç›®è¿˜åŒ…å«å¼ºå¤§çš„å›¾è¡¨å¯è§†åŒ–åŠŸèƒ½ï¼Œå¯ä»¥å°†JSONæ’ç›˜æ•°æ®è½¬æ¢ä¸ºç²¾ç¾çš„å›¾è¡¨ï¼š

### å¿«é€Ÿä½¿ç”¨

```bash
# 1. ç”Ÿæˆæ’ç›˜æ•°æ®
python triple_chart_parser.py --birth-date 2000-01-01 --birth-time 00:00 --timezone +8 --longitude 116.4 --latitude 39.9 --gender 1 --save-file --location åŒ—äº¬

# 2. ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨
python chart_visualizer.py 1_20000101_0000_åŒ—äº¬_116.4_39.9.json
```

### æ”¯æŒçš„å›¾è¡¨ç±»å‹

- **å…«å­—æ’ç›˜å›¾**ï¼šå››æŸ±ç»“æ„ï¼Œå«å¤©å¹²åœ°æ”¯ã€è—å¹²ã€åç¥ã€æ—¥ä¸»é«˜äº®
- **ç´«å¾®æ–—æ•°å‘½ç›˜å›¾**ï¼š12å®«æ ¼å¸ƒç›˜ï¼Œæ ‡æ³¨ä¸»æ˜Ÿã€å‰¯æ˜Ÿã€èº«å®«
- **å°åº¦æ˜Ÿç›˜å›¾**ï¼šå—å°åº¦æ ·å¼ï¼Œæ˜¾ç¤ºAscã€è¡Œæ˜Ÿä½ç½®ã€æ˜Ÿåº§

### è¯¦ç»†è¯´æ˜

æŸ¥çœ‹ [VISUALIZATION_README.md](VISUALIZATION_README.md) è·å–å®Œæ•´çš„å¯è§†åŒ–åŠŸèƒ½ä½¿ç”¨æŒ‡å—ã€‚

## æ•…éšœæ’æŸ¥

- **ç¼ºå°‘ä¾èµ–åº“**ï¼šè¿è¡Œ `pip install -r requirements.txt`
- **æ—¶é—´è®¡ç®—å¼‚å¸¸**ï¼šæ£€æŸ¥æ—¶åŒºæ ¼å¼æ˜¯å¦æ­£ç¡®ï¼ˆä½¿ç”¨æ•°å­—æ ¼å¼ï¼Œå¦‚+8ã€-5ï¼‰
- **ç»çº¬åº¦è¾“å…¥å¼‚å¸¸**ï¼šç¡®ä¿ä½¿ç”¨æµ®ç‚¹æ•°æ ¼å¼
- **ç¯å¢ƒé—®é¢˜**ï¼šç¡®ä¿å·²æ¿€æ´»Pythonè™šæ‹Ÿç¯å¢ƒ
- **å›¾è¡¨ç”Ÿæˆé—®é¢˜**ï¼šç¡®ä¿å·²å®‰è£…matplotlibå’Œnumpyä¾èµ–

## æŠ€æœ¯è¯´æ˜

- **å…«å­—ç³»ç»Ÿ**ï¼šåŸºäºå¯¿æ˜Ÿä¸‡å¹´å†åº“ï¼Œæ”¯æŒçœŸå¤ªé˜³æ—¶æ ¡æ­£
- **ç´«å¾®æ–—æ•°**ï¼šåŸºäºä¼ ç»Ÿæ’ç›˜ç®—æ³•ï¼Œæ”¯æŒç°ä»£ç®€åŒ–è¾“å‡º
- **å°åº¦æ˜Ÿç›˜**ï¼šåŸºäºè¥¿æ–¹å æ˜Ÿå­¦åº“ï¼Œä½¿ç”¨çƒ­å¸¦é»„é“ç³»ç»Ÿ

## è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚ 